<h1>Profile</h1>
<div class="row">
  <div class="col-xl-4">
    <div class="card">
      <div class="card-body">
        <h2 class="d-flex justify-content-center">Update</h2>
        <%= form_with model: @user, url: update_user_profile_path(@user.id) do |f| %>
          <% if flash[:error_update] %>
            <div class='alert alert-danger'><%= flash[:error_update] %></div>
          <% end %>
          <% if flash[:error_email] %>
            <div class='alert alert-danger'><%= flash[:error_email] %></div>
          <% end %>
          <% if flash[:success_update] %>
            <div class='alert alert-success'><%= flash[:success_update] %></div>
          <% end %>
          <!--First and last name labels and text fields-->
          <div class="form-group row">
            <%= f.hidden_field :id, value: @user.id %>
            <div class="col-xl">
              <%= label_tag(:firstName, "First Name:", class: "col-form-label") %>
              <%= f.text_field :firstName, class: "form-control", value: @user.firstName %>
            </div>
            <div class="col-xl">
              <%= label_tag(:lastName, "Last Name:", class: "col-form-label") %>
              <%= f.text_field :lastName, class: "form-control", value: @user.lastName %>
            </div>
          </div>
          <!--Email label and text field-->
          <div class="form-group">
            <%= label_tag(:email, "Email:", class: "col-form-label") %>
            <%= f.text_field :email, class: "form-control", value: @user.email %>
          </div>
          <!--Password label and text field-->
          <div class="form-group">
            <%= label_tag(:password, "Password:", class: "col-form-label") %>
            <%= f.password_field :password, class: "form-control", value: @user.password %>
          </div>

          <%= submit_tag "Update", class: "btn btn-ivos" %>

        <% end %>
      </div>
    </div>
  </div>

  <div class="col-xl mt-auto mb-auto text-center">
    <% if flash[:success_login] %>
      <div class='alert alert-success col-xl-4 mr-xl-auto ml-xl-auto'><%= flash[:success_login] %></div>
    <% end %>
    <p>Delete profile?</p>

    <%= button_to "delete",
                  {:controller => "users", :action => "destroy", :id => session[:id]},
                  :method => :delete,
                  class: "btn btn-neg-ivos h-25 font-weight-bolder text-uppercase img-fluid",
                  data: {confirm: "Are you sure, you want to delete this account?"} %>
  </div>
</div>
